<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <title>ShopStreet</title>
        <script src="libs/js/aframe/aframe-1.0.4.min.js"></script>
        <script src="libs/js/aframe/physics-system/aframe-physics-system-4.0.1.min.js"></script>
        <script src="libs/js/aframe/extra/aframe-extra-6.1.0.min.js"></script>
        <script src="libs/js/aframe/teleport-controls/aframe-teleport-controls.min.js"></script>
        <script src="libs/js/aframe/environment-component/aframe-environment-component.min.js"></script>

        <script src="js/functions.js"></script>
        
        <script src="js/components/RaycasterListener.js"></script>
        <script src="js/components/RightHandListener.js"></script>
        <script src="js/components/LeftHandListener.js"></script>
        
        <script src="js/components/polygon.js"></script>
        <script src="js/components/meteo.js"></script>
    </head>
    <body>
        <a-scene physics="debug: true" meteo
                 renderer="colorManagement: true">
            <a-assets>
                <a-asset-item id="temple-obj" src="models/tample/Mausoleum.obj"></a-asset-item>
                <a-asset-item id="temple-mtl" src="models/tample/Mausoleum.mtl"></a-asset-item>

                <a-asset-item id="building-obj" src="models/immeuble/Building.obj"></a-asset-item>
                <a-asset-item id="building-mtl" src="models/immeuble/Building.mtl"></a-asset-item>
                <a-asset-item id="building-gltf" src="models/immeuble/Building.gltf"></a-asset-item>

                <audio id="river" src="sources/audio/riviÃ¨re.mp3"></audio>
                <img id="water-normal"
                     src="https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/waternormals.jpg"
                     crossorigin="anonymous"  alt="water mesh"/>
            </a-assets>

            <!-- Player -->
            <a-entity id="rig"
                      movement-controls kinematic-body
                      position="-4 1.6 0"
                      rotation="0 -90 0"
                      collide-listener>
                <a-entity id="camera"
                          camera="userHeight: 1.6" position="0 1.6 0"
                          width="0.1" height="0.1" depth="0.1"
                          look-controls="pointerLockEnabled: true"></a-entity>

                <a-entity id="left-hand"
                          hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"
                          teleport-controls="cameraRig: #rig; teleportOrigin: #camera; button: grip; type: line; collisionEntities: .links"
                          left-hand-listener></a-entity>
                <a-entity id="right-hand"
                          hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc"
                          teleport-controls="cameraRig: #rig; teleportOrigin: #camera; button: grip; type: line; collisionEntities: .links"
                          right-hand-listener></a-entity>
            </a-entity>

            <!-- Ground -->
            <a-grid static-body></a-grid>
            <a-plane width="100" height="100"
                     color="#94d82d"
                     position="0 0.1 0" rotation="-90 0 0"
                     static-body
                     class="links"></a-plane>
            <a-sky color="skyblue"></a-sky>

            <a-box color="#39BB82" class="links"
                   width="15" height="5" depth="3"
                   position="8 2.5 -5"
                   static-body></a-box>
            <a-box color="#39BB82" class="links"
                   width="15" height="5" depth="3"
                   position="8 2.5 5"
                   static-body></a-box>
            <a-box color="yellow" class="links"
                   width="15"  height="5" depth="3"
                   position="8 0 10"
                   rotation="45 0 0"
                   static-body></a-box>

            <a-text value="Hello World !!" negate="false"
                    position="-2 2 -4"></a-text>

            <a-entity position="0 0 -2"
                      rotation="0 0 -30"
                      width="1" height="1" depth="1"
                      class="links"
                      polygon static-body>
            </a-entity>

            <a-box obj-model="obj: #temple-obj; mtl: #temple-mtl"
                   scale="0.05 0.05 0.05"
                   rotation="0 90 0"
                   position="-20 5 0"
                   static-body></a-box>

            <!--<a-box width="10" height="10" depth="10"
                   position="-20 5 20"
                   rotation="90 0 0"
                   static-body>
                <a-entity gltf-model="#building-gltf" scale="1.5 1.5 1.5" ></a-entity>
            </a-box>-->

            <a-ocean-plane material="normalMap: #water-normal;"
                           geometry="width: 10; height: 100;"
                           position="-10 0.2 0"
                           sound="src: #river; autoplay: true; loop: true; positional: true; refDistance: 2; distanceModel: linear;"></a-ocean-plane>

        </a-scene>
    </body>
</html>
